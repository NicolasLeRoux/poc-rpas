
<!DOCTYPE html>
<html>
	<head>
		<title>POC RPAS</title>
	</head>
	<body>
		<h1>POC RPAS (Local)</h1>
		<script>
			window.pcClient = new RTCPeerConnection();
			window.pcServer = new RTCPeerConnection();

			console.info('Server create offer');
			pcServer.createOffer()
				.then(offerDesc => {
					console.info('Set server local description from offer: ', offerDesc);
					return pcServer.setLocalDescription(offerDesc);
				}).then(() => {
					console.info('Set client remote desc from server offer');
					return pcClient.setRemoteDescription(pcServer.localDescription);
				}).then(() => {
					console.info('Client create answer');
					return pcClient.createAnswer();
				}).then(answerDesc => {
					console.info('Set client local desc from answer: ', answerDesc);
					return pcClient.setLocalDescription(answerDesc);
				}).then(() => {
					console.info('Set server remote desc from client answer');
					pcServer.setRemoteDescription(pcClient.localDescription);
				}).catch(error => {
					console.warn(error);
				});
		</script>
	</body>
</html>
